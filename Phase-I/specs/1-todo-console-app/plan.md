# Implementation Plan: Todo In-Memory Console App

**Branch**: `1-todo-console-app` | **Date**: 2025-12-27 | **Spec**: [specs/1-todo-console-app/spec.md](../spec.md)
**Input**: Feature specification from `specs/1-todo-console-app/spec.md`

## Summary

The "Todo In-Memory Console App" is a CLI tool for managing tasks (Add, List, Update, Complete, Delete) that stores all data in memory, resetting on exit. It uses `Typer` for the CLI interface and `dataclasses` for the data model, adhering to clean code and modern Python standards. It supports both single-command mode and an interactive REPL mode.

## Technical Context

**Language/Version**: Python 3.13+
**Primary Dependencies**: `Typer` (CLI), `pytest` (Testing), `rich` (Formatting - dependency of Typer)
**Storage**: In-memory `Dict[int, Task]` (No persistence)
**Testing**: `pytest`
**Target Platform**: Console/CLI (Cross-platform)
**Project Type**: Single project
**Performance Goals**: Startup < 1s, Instant response for operations
**Constraints**: No database/file I/O allowed for storage.

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

- [x] **Agentic-Driven**: Plan generated by agent.
- [x] **Specification-First**: Spec exists and is referenced.
- [x] **Ephemeral Data**: Architecture uses in-memory storage.
- [x] **Modern Python**: Uses `uv` and type hints.

## Project Structure

### Documentation (this feature)

```text
specs/1-todo-console-app/
├── plan.md              # This file
├── research.md          # CLI & Test framework decisions
├── data-model.md        # Task entity & validation
├── quickstart.md        # Setup & Usage guide
├── contracts/           
│   └── cli-api.md       # CLI command signatures
└── tasks.md             # To be generated
```

### Source Code (repository root)

```text
src/
├── __init__.py
├── main.py              # Application entry point
├── models.py            # Task dataclass & Enum
├── services.py          # TaskManager (Business Logic)
├── cli.py               # Typer commands & arguments
└── utils.py             # Rich formatting helpers (if needed)

tests/
├── __init__.py
├── conftest.py          # Pytest fixtures (TaskManager reset)
├── test_models.py       # Unit tests for Task validation
├── test_services.py     # Unit tests for TaskManager
└── test_cli.py          # Integration tests for CLI commands
```

**Structure Decision**: Single project layout with clear separation of `models` (data), `services` (logic), and `cli` (interface). Interactive mode will be implemented in `cli.py` or a new `repl.py` if complex, but `cli.py` is sufficient for a simple loop.

## Complexity Tracking

> **Fill ONLY if Constitution Check has violations that must be justified**

| Violation | Why Needed | Simpler Alternative Rejected Because |
|-----------|------------|-------------------------------------|
| External Dependency (Typer) | Clean Code & Type Safety | `argparse` is verbose and less readable for modern Python. `Typer` is industry standard for typed CLIs. |
